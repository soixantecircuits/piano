{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 940ea7c9447bd71f8b05","webpack:///./src/piano.js"],"names":[],"mappings":"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","file":"piano.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"piano\"] = factory();\n\telse\n\t\troot[\"piano\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 940ea7c9447bd71f8b05\n **/","'use strict'\n\nclass Piano {\n\n  constructor(options) {\n    if (document.querySelectorAll('#piano').length) {\n      console.warn('piano is already initialized')\n      return false\n    }\n    this.defaults = {\n      triggerEvents: ['click'],\n      slideContent: false,\n      slideContainer: 'body',\n      onBeforeHidden: function () { },\n      onHidden: function () { },\n      layouts: options.layouts || [],\n      autohide: true\n    }\n\n    this.settings = Object.assign(this.defaults, options)\n    this.container = Object.assign(document.createElement('div'), { id: 'piano', className: 'piano-container animated' })\n    this.detectInputs()\n    document.body.appendChild(this.container)\n    // Make sure to hide keyboard when clicking outside\n    if (this.settings.autohide) {\n      addMultipleListeners(['click', 'touchdown'], document, function (event) {\n        if (event.target.dataset.piano !== '' && !this.container.contains(event.target)) {\n          this.hideKeyboard()\n        }\n      }.bind(this))\n    }\n  }\n\n  detectInputs () {\n    let createKeyboard = (parent, target) => {\n      let _k = Object.assign({}, parent)\n      delete _k.triggers\n      delete _k.layouts\n      var datas = target.dataset\n      var options = {}\n\n      _k.shift = false\n\n      if (datas.pianoPosition) {\n        if (datas.pianoPosition.indexOf('absolute') > -1) {\n          options.position = datas.pianoPosition.replace(/absolute,\\s/gi, '').split(',')\n        } else {\n          options.position = (datas.pianoPosition) ? datas.pianoPosition.split(',') : []\n        }\n      } else {\n        console.warn('It seems you have incorrect values in your data-piano-position attribute on element: ', target)\n        options.position = []\n      }\n      // Object.assign(options, datas)\n\n      options.layout = datas.pianoLayout\n      options.limit = datas.pianoLimit\n      options.animationIn = datas.pianoAnimationIn\n      options.animationOut = datas.pianoAnimationOut\n      options.scale = datas.pianoScale\n\n      let eventID = datas.pianoEventId\n      let elementEvent = null\n      if (eventID) {\n        elementEvent = document.createEvent('Event')\n        elementEvent.initEvent(eventID, true, true)\n      }\n\n      // could be improve with a default object\n      _k.settings = {\n        position: {\n          x: options.position[0] || 'center',\n          y: options.position[1] || 'bottom'\n        },\n        layout: options.layout || 'default',\n        limit: options.limit || -1,\n        submitEvent: elementEvent,\n        animationIn: options.animationIn || 'fadeInUp',\n        animationOut: options.animationOut || 'fadeOutDown',\n        scale: options.scale || 1\n      }\n\n      addMultipleListeners(['click', 'touchdown'], target, function (event) {\n        this.clearKeyboards()\n        this.currentTarget = event.target\n        this.displayKeyboard(_k)\n      }.bind(this))\n    }\n\n    this.triggers = document.querySelectorAll('[data-piano]')\n    let triggerSize = this.triggers.length\n    for (var triggerIdx = 0; triggerIdx < triggerSize; triggerIdx++) {\n      createKeyboard(this, this.triggers[triggerIdx])\n    }\n  }\n\n  displayKeyboard (instance) {\n    var _k = this\n    _k.currentKeyboard = instance\n\n    var rowsContainer = document.createElement('div')\n    rowsContainer.className = 'piano-rows'\n\n    var layout = this.settings.layouts[instance.settings.layout]\n\n    var rows = []\n    rows.push(document.createElement('ul'))\n\n    for (var i in layout) {\n      var li = document.createElement('li')\n      if (layout[i] === 'break') {\n        rowsContainer.appendChild(rows[rows.length - 1])\n        rows.push(document.createElement('ul'))\n      } else {\n        var key = document.createElement('button')\n        if (typeof (layout[i][0]) === 'object') {\n          li.className = layout[i][0].name\n          key.className = 'key ' + layout[i][0].name\n          key.innerHTML = layout[i][0].value\n          key.dataset.pianoKey = layout[i][0].name\n        } else {\n          key.className = 'key ' + layout[i]\n          key.textContent = layout[i][0]\n          key.dataset.pianoKey = layout[i][0]\n        }\n        addMultipleListeners(_k.settings.triggerEvents, key, function (event) {\n          debounce(this.keyPressed(event), 300, false)\n        }.bind(this))\n        li.appendChild(key)\n      }\n      rowsContainer.appendChild(rows[rows.length - 1])\n\n      rows[rows.length - 1].appendChild(li)\n    }\n\n    if (isNaN(instance.settings.position.x) || isNaN(instance.settings.position.y)) {\n      this.container.className += ' ' + instance.settings.position.x\n      this.container.className += ' ' + instance.settings.position.y\n    } else {\n      this.container.style.left = instance.settings.position.x + 'px'\n      this.container.style.top = instance.settings.position.y + 'px'\n    }\n\n    this.container.style.display = 'block'\n    this.container.classList.remove(this.currentKeyboard.settings.animationOut)\n    this.container.appendChild(rowsContainer)\n    this.container.classList.add(this.currentKeyboard.settings.animationIn)\n\n    var scale = _k.currentKeyboard.settings.scale\n    if (scale > 1) {\n      var x = _k.currentKeyboard.settings.position.x\n      var y = _k.currentKeyboard.settings.position.y\n      scaleKeyboard(rowsContainer, scale, x, y)\n    }\n\n    document.body.classList.add('piano-open')\n    if (this.slideContent) {\n      document.querySelector(this.slideContainer).style.top = '-' + (rowsContainer.getBoundingClientRect().height / 2) + 'px'\n    }\n  }\n\n  keyPressed (event) {\n    var target = event.target\n    var value = target.textContent\n    var input = this.currentTarget\n    var cursor = input.selectionStart\n    var end = input.selectionEnd\n    var diff = (end - cursor) || 1\n    var offset = event.target.innerText.length\n    var limit = this.currentKeyboard.settings.limit\n    var submitEvent = this.currentKeyboard.settings.submitEvent\n\n    // There are still small bugs with selections.\n    if (/del/i.test(target.className)) {\n      var deleteOffset = (cursor) ? -1 : 0\n      input.value = insertToString(input.value, (cursor + deleteOffset), diff, '')\n      offset = -1\n    } else if (/space/i.test(target.className)) {\n      if (input.value.length <= limit || limit === -1) {\n        input.value = insertToString(input.value, cursor, (diff - 1), ' ')\n      }\n    } else if (/shift/i.test(target.className)) {\n      this.switchCase()\n    } else if (/larr/i.test(target.className)) {\n      offset = -1\n    } else if (/rarr/i.test(target.className)) {\n      offset = 1\n    } else if (/hide/i.test(target.className)) {\n      this.hideKeyboard()\n    } else if (/submit/i.test(target.className)) {\n      if (submitEvent) {\n        input.dispatchEvent(submitEvent)\n      } else {\n        console.warn('You did not provide a data-piano-event-id attribute.')\n      }\n    } else {\n      if (input.value.length <= limit || limit === -1) {\n        input.value = insertToString(input.value, cursor, (diff - 1), value)\n      }\n    }\n\n    input.selectionStart = cursor + offset\n    input.selectionEnd = cursor + offset\n\n    if (document.createEvent) {\n      var evt = document.createEvent('HTMLEvents')\n      evt.initEvent('input', false, true)\n      input.dispatchEvent(evt)\n    } else {\n      input.fireEvent('input')\n    }\n\n    input.focus()\n  }\n\n  switchCase () {\n    var shift = this.currentKeyboard.shift = !this.currentKeyboard.shift\n    var keys = document.querySelectorAll('.piano-rows > ul > li')\n    var layout = this.settings.layouts[this.currentKeyboard.settings.layout]\n    let keySize = keys.length\n\n    for (var i = 0; i < keySize; i++) {\n      var target = keys[i].children[0]\n      if (target) {\n        var value = target.textContent\n        if (layout[i].length > 1 && layout[i][0].length > 0) {\n          target.textContent = (shift) ? layout[i][1] : layout[i][0]\n        } else {\n          target.textContent = (shift) ? value.toUpperCase() : value.toLowerCase()\n        }\n      }\n    }\n  }\n\n  hideKeyboard () {\n    if (this.container.firstChild) {\n      typeof this.onBeforeHidden === 'function' && this.onBeforeHidden()\n      this.container.classList.remove(this.currentKeyboard.settings.animationIn)\n      this.container.classList.add(this.currentKeyboard.settings.animationOut)\n      setTimeout(() => {\n        this.container.style.display = 'none'\n      }, +this.container.style.animationDuration)\n      document.body.classList.remove('piano-open')\n      if (this.slideContent) {\n        document.querySelector(this.slideContainer).style.top = 0\n      }\n      typeof this.onHidden === 'function' && this.onHidden()\n    }\n  }\n\n  clearKeyboards () {\n    if (this.container.firstChild) {\n      this.container.firstChild.remove()\n      this.container.style.top = this.container.style.left = ''\n      this.container.className = 'piano-container animated'\n      this.currentKeyboard = null\n      document.body.classList.remove('piano-open')\n      if (this.slideContent) {\n        document.querySelector(this.slideContainer).style.top = 0\n      }\n    }\n  }\n\n  isOpen () {\n    return document.body.className.match(/\\piano-open\\b/) !== null\n  }\n\n  destroy () {\n    this.clearKeyboards()\n    this.container.remove()\n  }\n}\n\nfunction scaleKeyboard (container, scale, x, y) {\n  container.style['-webkit-transform'] = 'scale(' + scale + ')'\n  container.style['-moz-transform'] = 'scale(' + scale + ')'\n  container.style['-ms-transform'] = 'scale(' + scale + ')'\n  container.style['-o-transform'] = 'scale(' + scale + ')'\n  container.style['transform'] = 'scale(' + scale + ')'\n\n  container.style['-webkit-transform-origin'] = x + ' ' + y\n  container.style['-moz-transform-origin'] = x + ' ' + y\n  container.style['-ms-transform-origin'] = x + ' ' + y\n  container.style['-o-transform-origin'] = x + ' ' + y\n  container.style['transform-origin'] = x + ' ' + y\n}\n\nfunction insertToString (str, index, count, add) {\n  return str.slice(0, index) + (add || '') + str.slice(index + count)\n}\n\nfunction addMultipleListeners (events, target, handler) {\n  events = (events instanceof Array) ? events : [events]\n  for (var i = 0; i < events.length; i++) {\n    target.addEventListener(events[i], function (event) {\n      handler(event)\n    })\n  }\n}\n\n// Helpers function for piano object\nfunction debounce (func, wait, immediate) {\n  var timeout\n  return function () {\n    var context = this\n    var args = arguments\n    var later = function () {\n      timeout = null\n      if (!immediate) {\n        func.apply(context, args)\n      }\n    }\n    var callNow = immediate && !timeout\n    clearTimeout(timeout)\n    timeout = setTimeout(later, wait || 200)\n    if (callNow) {\n      func.apply(context, args)\n    }\n  }\n}\n\nmodule.exports = Piano\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/piano.js\n **/"],"sourceRoot":""}